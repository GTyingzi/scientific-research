function gui_fl_dreg()
% This is the machine-generated representation of a MATLAB object
% and its children.  Note that handle values may change when these
% objects are re-created. This may cause problems with some callbacks.
% The command syntax may be supported in the future, but is currently 
% incomplete and subject to change.
%
% To re-open this system, just type the name of the m-file at the MATLAB
% prompt. The M-file and its associtated MAT-file must be on your path.
              

[SigIn_name error_in] = fl_get_input ('vector') ;
eval(['global ',SigIn_name]) ;
SigIn = eval(SigIn_name) ;
N = length(SigIn) ;

%N=1024

a = figure( ...
	'Colormap',[], ...
	'HandleVisibility','callback', ...
	'MenuBar','none', ...
	'Name','Multifractal Denoising of 1D and 2D signals', ...
	'Position',[20 50 400 440], ...
	'Tag','Fig_gui_fl_dreg', ...
	'UserData','a');
b = uicontrol('Parent',a, ...
	'Units','normalized', ...
	'FontUnits','normalized', ...
	'FontSize',0.273971999999999, ...
	'Position',[0.0833333 0.76+0.06 0.833333 0.21*3/4], ...
	'Style','frame', ...
	'Tag','Frame_gui_fl_dreg');
b = uicontrol('Parent',a, ...
	'Units','normalized', ...
	'FontUnits','normalized', ...
	'FontSize',0.256410666666666, ...
	'Position',[0.0833333 0.264423 0.833333 0.30+0.09], ...
	'Style','frame', ...
   'Tag','Frame_gui_fl_dreg2');
b = uicontrol('Parent',a, ...
	'Units','normalized', ...
	'FontUnits','normalized', ...
	'FontSize',0.556321333333332, ...
	'FontWeight','bold', ...
	'Position',[0.213333 0.86+0.04 0.56 0.076*3/4], ...
	'String','Multifractal Denoising', ...
	'Style','text', ...
	'Tag','StaticText_dreg_title1');
b = uicontrol('Parent',a, ...
	'Units','normalized', ...
	'FontUnits','normalized', ...
	'FontSize',0.551723999999999, ...
	'FontWeight','bold', ...
	'Position',[0.213333 0.78+0.06 0.56 0.076*3/4], ...
	'String','1D and 2D signals', ...
	'Style','text', ...
	'Tag','StaticText_dreg_title2');
b = uicontrol('Parent',a, ...
	'Units','normalized', ...
	'FontUnits','normalized', ...
	'FontSize',0.413792999999999, ...
	'Position',[0.092 0.425+0.09 0.32 0.1*3/4], ...
	'String','Regularity Increase', ...
	'Style','text', ...
   'Tag','StaticText_dreg_param');
b = uicontrol('Parent',a, ...
	'Units','normalized', ...
	'FontUnits','normalized', ...
	'BackgroundColor',[1 1 1], ...
	'Callback','fl_dreg_compute(''edit_param'');', ...
	'FontSize',0.533333333333332, ...
   'Position',[0.78 0.47+0.08 0.12 0.06*3/4], ...
   'String','1', ...
	'Style','edit', ...
	'Tag','EditText_dreg_param');
b = uicontrol('Parent',a, ...
	'Units','normalized', ...
	'FontUnits','normalized', ...
	'Callback','fl_dreg_compute(''slider_param'');', ...
	'FontSize',0.551723999999999, ...
	'Max',5, ...
	'Position',[0.44 0.47+0.08 0.32 0.06*3/4], ...
	'Style','slider', ...
	'Tag','Slider_dreg_param', ...
   'Value',1);
%%%%%%%%%%%%%%%%%%%%%%%%
b = uicontrol('Parent',a, ...
	'Units','normalized', ...
	'FontUnits','normalized', ...
	'FontSize',0.413792999999999, ...
	'Position',[0.084 0.31+0.12 0.32 0.1*3/4], ...
	'String','Standard Deviation ', ...
	'Style','text', ...
   'Tag','StaticText_dreg_param2');
b = uicontrol('Parent',a, ...
	'Units','normalized', ...
	'FontUnits','normalized', ...
	'BackgroundColor',[1 1 1], ...
	'Callback','fl_dreg_compute(''edit_param2'');', ...
	'FontSize',0.533333333333332, ...
   'Position',[0.78 0.33+0.12 0.12 0.06*3/4], ...
   'String','1', ...
	'Style','edit', ...
   'Tag','EditText_dreg_param2');
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%18/12
b = uicontrol('Parent',a, ...
	'Units','normalized', ...
	'FontUnits','normalized', ...
	'FontSize',0.413792999999999, ...
	'Position',[0.25 0.17+0.095 0.52 0.1*3/4], ...
	'String',' ', ...
	'Style','text', ...
   'Tag','StaticText_dreg_param3');
b = uicontrol('Parent',a, ...
	'Units','normalized', ...
	'FontUnits','normalized', ...
	'BackgroundColor',[1 1 1], ...
	'Callback','fl_dreg_compute(''edit_param3'');', ...
	'FontSize',0.399999999999999, ...
   'Position',[0.78 0.33+0.22 0.001 0.001*3/4], ...
   'String',' ', ...
	'Style','edit', ...
	'Tag','EditText_dreg_param3');
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%18/12
b = uicontrol('Parent',a, ...
	'Units','normalized', ...
	'FontUnits','normalized', ...
	'Callback','fl_dreg_compute(''slider_param2'');', ...
	'FontSize',0.551723999999999, ...
	'Max',5, ...
	'Position',[0.44 0.33+0.12 0.32 0.06*3/4], ...
	'Style','slider', ...
	'Tag','Slider_dreg_param2', ...
   'Value',1);
b = uicontrol('Parent',a, ...
	'Units','normalized', ...
	'FontUnits','normalized', ...
	'Callback','fl_dreg_compute(''radiobutton_dreg'');', ...
	'FontSize',0.75, ...
	'Position',[0.1842 0.28+0.12 0.2 0.0500001*3/4], ...
	'String','Specify', ...
	'Style','checkbox', ...
	'Tag','Radiobutton_dreg', ...
	'Value',1);
%b = uicontrol('Parent',a, ...
%	'Units','normalized', ...
%	'FontUnits','normalized', ...
%	'Callback','fl_dreg_compute(''radiobutton_dreg2'');', ...
%	'FontSize',0.545453454547636, ...
%	'Position',[0.24 0.30 0.2 0.0500001], ...
%	'String','Automatic', ...
%	'Style','radiobutton', ...
%	'Tag','Radiobutton_dreg2', ...
%	'Value',0);

%%%%%%%%%%%%%%%%%%%%%%%%
% b = uicontrol('Parent',a, ...
% 	'Units','normalized', ...
% 	'FontUnits','normalized', ...
% 	'Callback','eval([''global '' fl_dreg_compute(''compute'',who);]);', ...
% 	'FontSize',0.399999999999999, ...
% 	'FontWeight','bold', ...
% 	'Position',[0.0833333 0.072 0.233333 0.12], ...
% 	'String','Compute', ...
% 	'Tag','Pushbutton_dreg_compute');
% b = uicontrol('Parent',a, ...
% 	'Units','normalized', ...
% 	'FontUnits','normalized', ...
% 	'Callback','fl_dreg_compute(''help'');', ...
% 	'FontSize',0.399999999999999, ...
% 	'FontWeight','bold', ...
% 	'Position',[0.38 0.072 0.233333 0.12], ...
% 	'String','Help', ...
% 	'Tag','Pushbutton_dreg_help');
% b = uicontrol('Parent',a, ...
% 	'Units','normalized', ...
% 	'FontUnits','normalized', ...
% 	'Callback','close(findobj(''Tag'',''Fig_gui_fl_dreg''));fl_clearerror;', ...
% 	'FontSize',0.399999999999999, ...
% 	'FontWeight','bold', ...
% 	'Position',[0.676667 0.072 0.233333 0.12], ...
% 	'String','Close', ...
% 	'Tag','Pushbutton_close');


b = uicontrol('Parent',a, ...
	'Units','normalized', ...
	'FontUnits','normalized', ...
	'Callback','eval([''global '' fl_dreg_compute(''compute'',who);]);', ...
	'FontSize',0.3, ...
	'FontWeight','bold', ...
	'Position',[0.0833333 0.022 0.233333 0.12*0.75], ...
	'String','Compute', ...
	'Tag','Pushbutton_dreg_compute');
b = uicontrol('Parent',a, ...
	'Units','normalized', ...
	'FontUnits','normalized', ...
	'Callback','fl_dreg_compute(''help'');', ...
	'FontSize',0.3, ...
	'FontWeight','bold', ...
	'Position',[0.38 0.022 0.233333 0.12*3/4], ...
	'String','Help', ...
	'Tag','Pushbutton_dreg_help');
b = uicontrol('Parent',a, ...
	'Units','normalized', ...
	'FontUnits','normalized', ...
	'Callback','close(findobj(''Tag'',''Fig_gui_fl_dreg''));fl_clearerror;', ...
	'FontSize',0.3, ...
	'FontWeight','bold', ...
	'Position',[0.676667 0.022 0.233333 0.12*3/4], ...
	'String','Close', ...
	'Tag','Pushbutton_close');



%% refresh Frame
b = uicontrol('Parent',a, ...
	'Units','normalized', ...
	'FontUnits','normalized', ...
	'FontSize',0.0699300699300699, ...
	'Position',[0.0833333 0.6+0.09 0.833333 0.13*3/4], ...
	'Style','frame', ...
	'Tag','Frame_input_dreg');
b = uicontrol('Parent',a, ...
	'Units','normalized', ...
	'FontUnits','normalized', ...
	'FontSize',0.519480519480519, ...
	'FontWeight','bold', ...
	'HorizontalAlignment','left', ...
	'Position',[0.09 0.62+0.09 0.4 0.07*3/4], ...
	'String','Analysed signal', ...
	'Style','text', ...
	'Tag','StaticText_input_dreg');
b = uicontrol('Parent',a, ...
	'Units','normalized', ...
	'FontUnits','normalized', ...
	'Callback','fl_dreg_compute(''refresh'');', ...
	'FontSize',0.404040404040404, ...
	'FontWeight','bold', ...
	'Position',[0.73 0.62+0.09 0.175 0.09*3/4], ...
	'String','Refresh', ...
	'Tag','Pushbutton_refresh_dreg');
b = uicontrol('Parent',a, ...
	'Units','normalized', ...
	'FontUnits','normalized', ...
	'BackgroundColor',[1 1 1], ...
	'FontSize',0.519480519480519, ...
	'HorizontalAlignment','left', ...
	'Position',[0.42 0.63+0.09 0.28 0.07*3/4], ...
	'String','', ...
	'Style','edit', ...
	'Enable','inactive',...
	'Tag','EditText_sig_nname_dreg');



b = uicontrol('Parent',a, ...
	'Units','normalized', ...
	'FontUnits','normalized', ...
	'FontSize',0.75*0.219178666666666, ...
	'Position',[0.0833333 0.14 0.833333 0.1], ...
	'Style','frame', ...
	'Tag','Frame_gui_fl_dreg');

b = uicontrol('Parent',a, ...
	'Units','normalized', ...
	'FontUnits','normalized', ...
	'FontSize',0.551723999999999, ...
	'Position',[0.09 0.162 0.172 0.076*3/4], ...
	'String','Start level', ...
	'Style','text', ...
	'Tag','StaticText_dreg_level');
b = uicontrol('Parent',a, ...
	'Units','normalized', ...
	'FontUnits','normalized', ...
	'BackgroundColor',[1 1 1], ...
	'Callback','fl_dreg_compute(''edit_level'');', ...
	'FontSize',0.533333333333332, ...
	'Position',[0.3 0.162 0.1 0.08*3/4], ...
	'String',num2str(floor(log2(N))-floor((log2(N))/2)+1), ...
	'Style','edit', ...
	'Tag','EditText_dreg_level');

matond{1}='daubechies  2';
matond{2}='daubechies  4';
matond{3}='daubechies  6';
matond{4}='daubechies  8';
matond{5}='daubechies 10';
matond{6}='daubechies 12';
matond{7}='daubechies 14';
matond{8}='daubechies 16';
matond{9}='daubechies 18';
matond{10}='daubechies 20';
matond{11}='coiflet  6';
matond{12}='coiflet 12';
matond{13}='coiflet 18';
matond{14}='coiflet 24';


b = uicontrol('Parent',a, ...
	'Units','normalized', ...
	'FontUnits','normalized', ...
	'FontSize',0.551723999999999, ...
	'Position',[0.4386 0.162 0.15 0.076*3/4], ...
	'String','Wavelet', ...
	'Style','text', ...
	'Tag','StaticText_dreg_wavelet');


b = uicontrol('Parent',a, ...
	'Units','normalized', ...
	'FontUnits','normalized', ...
	'Callback','fl_dreg_compute(''ondelette'');', ...
	'FontSize',0.75*0.7, ...
	'Max',3, ...
	'Min',1, ...
	'Position',[0.61 0.163 0.29 0.06], ...
	'String',matond, ...
	'Style','popupmenu', ...
	'Tag','PopupMenu_dreg_wtype', ...
	'Value',5);


fl_window_init(a);


fl_dreg_compute('refresh');
